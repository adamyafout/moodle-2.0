{"version":3,"sources":["../src/interactivetranscript.js"],"names":["define","$","log","debug","init","opts","component","playerid","containerid","cssprefix","config","settings","length","prefix","player","title","M","util","get_string","transcript","append","el","defaults","autoscroll","clickArea","showTitle","showTrackSelector","followPlayerTrack","scrollToCenter","stopScrollWhenInUse","utils","secondsToTime","timeInSeconds","hour","Math","floor","min","sec","localize","string","createEl","elementName","className","document","createElement","extend","obj","type","source","prop","i","arguments","eventEmitter","handlers_","on","object","eventtype","callback","push","TypeError","trigger","forEach","h","apply","scrollerProto","initHandlers","self","addEventListener","isAutoScrolling","userIsScrolling","classList","add","mouseIsOverTranscript","setTimeout","remove","easeOut","time","start","change","duration","sin","PI","scrollTo","element","newPos","startTime","Date","now","startPos","scrollTop","max","scrollHeight","clientHeight","updateScroll","requestAnimationFrame","call","to","scrollToElement","canScroll","parent","parentElement","parentOffsetBottom","offsetTop","elementOffsetBottom","relTop","relBottom","centerPosCorrection","round","offsetHeight","inUse","scroller","Object","create","trackList","activeTrack","get","validTracks","track","tracks","textTracks","kind","active","mode","widget","that","thewidget","body","event","createTitle","header","textContent","createSelector","selector","option","value","label","language","appendChild","setTrack","querySelector","id","clickToSeekHandler","clickedClasses","target","clickedTime","getAttribute","contains","currentTime","createLine","cue","line","timestamp","text","setAttribute","_options","tabIndex","innerHTML","createTranscriptBody","fragment","createDocumentFragment","activeCues","window","cues","scroll","replaceChild","trackCreated","options","currentTrack","setCue","begin","end","lines","children","timeUpdate","updateTrack","ontimeupdate","oncaptionstrackchange","onsubtitlestrackchange","Error"],"mappings":"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","sourcesContent":["define(['jquery','core/log'], function($,log) {\n    \"use strict\"; // jshint ;_;\n\n    log.debug('Interactive Transcript: initialising');\n\n    return {\n\n        init: function(opts){\n\n            var component= opts['component'];\n            var playerid= opts['playerid'];\n            var containerid= opts['containerid'];\n            var cssprefix= opts['cssprefix'];\n            var config={};\n            config.settings ={};\n            if(playerid && $('#' + playerid).length) {\n                config.component = component;\n                config.prefix = cssprefix;\n                config.player = $('#' + playerid)[0];\n                config.title = M.util.get_string('transcripttitle',component);\n                var transcript = this.transcript(config);\n                $('#' + containerid).append(transcript.el());\n            }\n        },\n\n\n// Defaults\n        defaults: {\n            autoscroll: true,\n            clickArea: 'line', //the clickable part of line text,line,timestamp, none\n            showTitle: true, //the title\n            showTrackSelector: false, //the drop down box of caption tracks\n            followPlayerTrack: true,\n            scrollToCenter: false, //show current text in center\n            stopScrollWhenInUse: true, //stop scrolling when user interacting\n        },\n\n        /*global */\n        utils: {\n            prefix: 'transcript',\n            secondsToTime: function (timeInSeconds) {\n                var hour = Math.floor(timeInSeconds / 3600);\n                var min = Math.floor(timeInSeconds % 3600 / 60);\n                var sec = Math.floor(timeInSeconds % 60);\n                sec = (sec < 10) ? '0' + sec : sec;\n                min = (hour > 0 && min < 10) ? '0' + min : min;\n                if (hour > 0) {\n                    return hour + ':' + min + ':' + sec;\n                }\n                return min + ':' + sec;\n            },\n            localize: function (string) {\n                return string; // TODO: do something here;\n            },\n            createEl: function (elementName, className) {\n                className = className || '';\n                var el = document.createElement(elementName);\n                el.className = className;\n                return el;\n            },\n            extend: function(obj) {\n                var type = typeof obj;\n                if (!(type === 'function' || type === 'object' && !!obj)) {\n                    return obj;\n                }\n                var source, prop;\n                for (var i = 1, length = arguments.length; i < length; i++) {\n                    source = arguments[i];\n                    for (prop in source) {\n                        obj[prop] = source[prop];\n                    }\n                }\n                return obj;\n            }\n        },\n\n        eventEmitter: {\n            handlers_: [],\n            on: function on (object, eventtype, callback) {\n                if (typeof callback === 'function') {\n                    this.handlers_.push([object, eventtype, callback]);\n                } else {\n                    throw new TypeError('Callback is not a function.');\n                }\n            },\n            trigger: function trigger (object, eventtype) {\n                this.handlers_.forEach( function(h) {\n                    if (h[0] === object &&\n                        h[1] === eventtype) {\n                        h[2].apply();\n                    }\n                });\n            }\n        },\n\n        scrollerProto: function(config) {\n\n            var initHandlers = function (el) {\n                var self = this;\n                // The scroll event. We want to keep track of when the user is scrolling the transcript.\n                el.addEventListener('scroll', function () {\n                    if (self.isAutoScrolling) {\n\n                        // If isAutoScrolling was set to true, we can set it to false and then ignore this event.\n                        // It wasn't the user.\n                        self.isAutoScrolling = false; // event handled\n                    } else {\n\n                        // We only care about when the user scrolls. Set userIsScrolling to true and add a nice class.\n                        self.userIsScrolling = true;\n                        el.classList.add('is-inuse');\n                    }\n                });\n\n                // The mouseover event.\n                el.addEventListener('mouseenter', function () {\n                    self.mouseIsOverTranscript = true;\n                });\n                el.addEventListener('mouseleave', function () {\n                    self.mouseIsOverTranscript = false;\n\n                    // Have a small delay before deciding user as done interacting.\n                    setTimeout(function () {\n\n                        // Make sure the user didn't move the pointer back in.\n                        if (!self.mouseIsOverTranscript) {\n                            self.userIsScrolling = false;\n                            el.classList.remove('is-inuse');\n                        }\n                    }, 1000);\n                });\n            };\n\n            // Init instance variables\n            var init = function (element) {\n                this.element = element;\n                this.userIsScrolling = false;\n\n                //default to true in case user isn't using a mouse;\n                this.mouseIsOverTranscript = true;\n                this.isAutoScrolling = true;\n                initHandlers.call(this, this.element);\n                return this;\n            };\n\n            // Easing function for smoothness.\n            var easeOut = function (time, start, change, duration) {\n                return start + change * Math.sin(Math.min(1, time / duration) * (Math.PI / 2));\n            };\n\n            // Animate the scrolling.\n            var scrollTo = function (element, newPos, duration) {\n                var startTime = Date.now();\n                var startPos = element.scrollTop;\n                var self = this;\n\n                // Don't try to scroll beyond the limits. You won't get there and this will loop forever.\n                newPos = Math.max(0, newPos);\n                newPos = Math.min(element.scrollHeight - element.clientHeight, newPos);\n                var change = newPos - startPos;\n\n                // This inner function is called until the elements scrollTop reaches newPos.\n                var updateScroll = function () {\n                    var now = Date.now();\n                    var time = now - startTime;\n                    self.isAutoScrolling = true;\n                    element.scrollTop = easeOut(time, startPos, change, duration);\n                    if (element.scrollTop !== newPos) {\n                        requestAnimationFrame(updateScroll, element);\n                    }\n                };\n                requestAnimationFrame(updateScroll, element);\n            };\n\n            // Scroll an element's parent so the element is brought into view.\n            var scrollToElement = function (element) {\n                if (this.canScroll()) {\n                    var parent = element.parentElement;\n                    var parentOffsetBottom = parent.offsetTop + parent.clientHeight;\n                    var elementOffsetBottom = element.offsetTop + element.clientHeight;\n                    var relTop = element.offsetTop;\n                    var relBottom = (element.offsetTop + element.clientHeight);\n                    var centerPosCorrection = 0;\n                    var newPos;\n                    /*\n                                        console.log('element.offsetTop: ' + element.offsetTop );\n                                        console.log('element.clientHeight: ' + element.clientHeight );\n                                        console.log('parent.offsetTop: ' + parent.offsetTop );\n                                        console.log('parent.scrollTop: ' + parent.scrollTop );\n                                        console.log('parent.clientHeight: ' + parent.clientHeight );\n                                        console.log(element);\n                                        console.log(parent);\n                    */\n                    //scroll to center if we must\n                    if (config.settings.scrollToCenter){\n                        centerPosCorrection = Math.round(parent.clientHeight/2 - element.clientHeight/2);\n                    }\n                    // If the top of the line is above the top of the parent view, were scrolling up,\n                    // so we want to move the top of the element downwards to match the top of the parent.\n                    if (relTop < parent.scrollTop + centerPosCorrection) {\n                        newPos = element.offsetTop  -centerPosCorrection;\n\n                        // If the bottom of the line is below the parent view, we're scrolling down, so we want the\n                        // bottom edge of the line to move up to meet the bottom edge of the parent.\n                    } else if (relBottom > (parent.scrollTop + parent.clientHeight) - centerPosCorrection) {\n                        newPos = elementOffsetBottom + centerPosCorrection;\n                    }\n\n                    // Don't try to scroll if we haven't set a new position.  If we didn't\n                    // set a new position the line is already in view (i.e. It's not above\n                    // or below the view)\n                    // And don't try to scroll when the element is already in position.\n                    if (newPos !== undefined && parent.scrollTop !== newPos) {\n                        scrollTo.call(this, parent, newPos, 400);\n                    }\n                }\n            };\n\n\n            // Return whether the element is scrollable.\n            var canScroll = function () {\n                var el = this.element;\n                //console.log(el.scrollHeight + ' ' + el.offsetHeight);\n                return el.scrollHeight > el.offsetHeight;\n            };\n\n            // Return whether the user is interacting with the transcript.\n            var inUse = function () {\n                return this.userIsScrolling;\n            };\n\n            return {\n                init: init,\n                to : scrollToElement,\n                canScroll : canScroll,\n                inUse : inUse\n            }\n        },\n\n        scroller:  function(element,config) {\n            return Object.create(this.scrollerProto(config)).init(element);\n        },\n\n\n        /*global config*/\n        trackList: function(config) {\n            var activeTrack;\n            return {\n                get: function () {\n                    var validTracks = [];\n                    var i, track;\n                    config.tracks = config.player.textTracks;\n                    for (i = 0; i < config.tracks.length; i++) {\n                        track = config.tracks[i];\n                        if (track.kind === 'captions' || track.kind === 'subtitles') {\n                            validTracks.push(track);\n                        }\n                    }\n                    return validTracks;\n                },\n                active: function (tracks) {\n                    var i, track;\n                    for (i = 0; i < config.tracks.length; i++) {\n                        track = config.tracks[i];\n                        if (track.mode === 'showing') {\n                            activeTrack = track;\n                            return track;\n                        }\n                    }\n                    // fallback to first track\n                    return activeTrack || tracks[0];\n                },\n            };\n        },\n\n        /*globals utils, eventEmitter,scrollable*/\n\n        widget:  function(config) {\n            var that = this;\n            var thewidget = {};\n            thewidget.element = {};\n            thewidget.body = {};\n            var on = function (event, callback) {\n                eventEmitter.on(that, event, callback);\n            };\n            var trigger = function (event) {\n                eventEmitter.trigger(that, event);\n            };\n            var createTitle = function () {\n                var header = that.utils.createEl('header', config.prefix + '-header');\n                header.textContent = config.title;\n                return header;\n            };\n            var createSelector = function (){\n                var selector = that.utils.createEl('select', config.prefix + '-selector');\n                config.validTracks.forEach(function (track, i) {\n                    var option = document.createElement('option');\n                    option.value = i;\n                    option.textContent = track.label + ' (' + track.language + ')';\n                    selector.appendChild(option);\n                });\n                selector.addEventListener('change', function (e) {\n                    setTrack(document.querySelector('#' + config.prefix + '-' + config.player.id + ' option:checked').value);\n                    trigger('trackchanged');\n                });\n                return selector;\n            };\n            var clickToSeekHandler = function (event) {\n                var clickedClasses = event.target.classList;\n                var clickedTime = event.target.getAttribute('data-begin') || event.target.parentElement.getAttribute('data-begin');\n                if (clickedTime !== undefined && clickedTime !== null) { // can be zero\n                    if ((config.settings.clickArea === 'line') || // clickArea: 'line' activates on all elements\n                        (config.settings.clickArea === 'timestamp' && clickedClasses.contains(config.prefix + '-timestamp')) ||\n                        (config.settings.clickArea === 'text' && clickedClasses.contains(config.prefix + '-text'))) {\n                        config.player.currentTime =clickedTime ;\n                    }\n                }\n            };\n            var createLine = function (cue) {\n                var line = that.utils.createEl('div', config.prefix +'-line');\n                var timestamp = that.utils.createEl('span',config.prefix + '-timestamp');\n                var text = that.utils.createEl('span', config.prefix + '-text');\n                line.setAttribute('data-begin', cue.startTime);\n                line.setAttribute('tabindex', thewidget._options.tabIndex || 0);\n                timestamp.textContent = that.utils.secondsToTime(cue.startTime);\n                text.innerHTML = cue.text;\n                line.appendChild(timestamp);\n                line.appendChild(text);\n                return line;\n            };\n            var createTranscriptBody = function (track) {\n                if (typeof track !== 'object') {\n                    track = config.player.textTracks()[track];\n                }\n                var body = that.utils.createEl('div', config.prefix + '-body');\n                var line, i;\n                var fragment = document.createDocumentFragment();\n                // activeCues returns null when the track isn't loaded (for now?)\n                if (!track.activeCues) {\n                    // If cues aren't loaded, set mode to hidden, wait, and try again.\n                    // But don't hide an active track. In that case, just wait and try again.\n                    if (track.mode !== 'showing') {\n                        track.mode = 'hidden';\n                    }\n                    window.setTimeout(function() {\n                        createTranscriptBody(track);\n                    }, 100);\n                } else {\n                    var cues = track.cues;\n                    for (i = 0; i < cues.length; i++) {\n                        line = createLine(cues[i]);\n                        fragment.appendChild(line);\n                    }\n                    body.innerHTML = '';\n                    body.appendChild(fragment);\n                    body.setAttribute('lang', track.language);\n                    body.scroll = that.scroller(body,config);\n                    body.addEventListener('click', clickToSeekHandler);\n                    thewidget.element.replaceChild(body, thewidget.body);\n                    thewidget.body = body;\n                }\n\n            };\n            var create = function (options) {\n                var el = document.createElement('div');\n                thewidget._options = options;\n                thewidget.element = el;\n                el.setAttribute('id', config.prefix + '-' + config.player.id);\n                if (config.settings.showTitle) {\n                    var title = createTitle();\n                    el.appendChild(title);\n                }\n                if (config.settings.showTrackSelector) {\n                    var selector = createSelector();\n                    el.appendChild(selector);\n                }\n                thewidget.body = that.utils.createEl('div',config.prefix + '-body');\n                el.appendChild(thewidget.body);\n                setTrack(config.currentTrack);\n                return this;\n            };\n            var setTrack = function (track, trackCreated) {\n                createTranscriptBody(track, trackCreated);\n            };\n            var setCue = function (time) {\n                var active, i, line, begin, end;\n                var lines = thewidget.body.children;\n                for (i = 0; i < lines.length; i++) {\n                    line = lines[i];\n                    begin = line.getAttribute('data-begin');\n                    if (i < lines.length - 1) {\n                        end = lines[i + 1].getAttribute('data-begin');\n                    } else {\n                        end = config.player.duration || Infinity;\n                    }\n                    if (time > begin && time < end) {\n                        if (!line.classList.contains('is-active')) { // don't update if it hasn't changed\n                            line.classList.add('is-active');\n                            if (config.settings.autoscroll && !(config.settings.stopScrollWhenInUse && thewidget.body.scroll.inUse())) {\n                                thewidget.body.scroll.to(line);\n                            }\n                        }\n                    } else {\n                        line.classList.remove('is-active');\n                    }\n                }\n            };\n            var el = function () {\n                return thewidget.element;\n            };\n            return {\n                create: create,\n                setTrack: setTrack,\n                setCue: setCue,\n                el : el,\n                on: on,\n                trigger: trigger,\n            };\n        },\n\n        transcript: function(config){\n            var that=this;\n            var options=this.defaults;\n            this.utils.prefix='transcript';\n\n            config.validTracks = this.trackList(config).get();\n            config.currentTrack = this.trackList(config).active(config.validTracks);\n            config.settings = options;\n            config.widget = this.widget(config).create(options);\n\n            var timeUpdate = function () {\n                config.widget.setCue(config.player.currentTime);\n            };\n            var updateTrack = function () {\n                config.currentTrack = that.trackList(config).active(config.validTracks);\n                config.widget.setTrack(config.currentTrack);\n            };\n            if (config.validTracks.length > 0) {\n                updateTrack();\n                config.player.ontimeupdate = timeUpdate;\n                if (config.settings.followPlayerTrack) {\n                    config.player.oncaptionstrackchange = updateTrack;\n                    config.player.onsubtitlestrackchange = updateTrack;\n                }\n            } else {\n                throw new Error('transcript: No tracks found!');\n            }\n            return {\n                el: function () {\n                    return config.widget.el();\n                },\n                setTrack: config.widget.setTrack\n            };\n        }\n\n    };//end of return object\n});"],"file":"interactivetranscript.min.js"}